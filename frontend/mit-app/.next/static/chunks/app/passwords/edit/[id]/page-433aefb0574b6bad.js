(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{40:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),l=a(5695),r=a(2115);let o=e=>{let{params:t}=e,a=(0,l.useRouter)(),[o,d]=(0,r.useState)(null),[n,i]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[p,f]=(0,r.useState)(null),[g,j]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[C,E]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{d((await t).id)})()},[t]),(0,r.useEffect)(()=>{o&&(async()=>{E(!0),S(null);try{let e=await fetch("/api/passwords/".concat(o));if(!e.ok)throw Error("Failed to fetch password data");let t=await e.json();f(t),c(t.category),i(t.site_name),m(t.site_url),x(t.login_id),j(t.password),y(t.email),N(t.memo)}catch(e){e instanceof Error?S(e.message):console.error("Error fetching password:",e)}finally{E(!1)}})()},[o]);let F=async e=>{e.preventDefault(),S(null);try{if(!(await fetch("/api/passwords/".concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:u,siteName:n,siteUrl:h,loginId:b,pass:g,email:v,memo:w})})).ok)throw Error("Failed to update password");alert("パスワードが更新されました！"),a.push("/")}catch(e){console.error("Error updating password:",e)}};return C?(0,s.jsx)("div",{children:"読み込み中..."}):k?(0,s.jsx)("p",{className:"text-red-500",children:k}):p?(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"パスワード更新"}),(0,s.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"siteName",children:"カテゴリ"}),(0,s.jsx)("input",{id:"category",type:"text",value:u,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"siteName",children:"サイト名"}),(0,s.jsx)("input",{id:"siteName",type:"text",value:n,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"siteUrl",children:"サイトURL"}),(0,s.jsx)("input",{id:"siteUrl",type:"text",value:h,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"loginId",children:"ログインID"}),(0,s.jsx)("input",{id:"loginId",type:"text",value:b,onChange:e=>x(e.target.value),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"password",children:"パスワード"}),(0,s.jsx)("input",{id:"password",type:"text",value:g,onChange:e=>j(e.target.value),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"email",children:"メールアドレス"}),(0,s.jsx)("input",{id:"email",type:"text",value:v,onChange:e=>y(e.target.value),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"memo",children:"メモ"}),(0,s.jsx)("textarea",{id:"content",value:w,onChange:e=>N(e.target.value),className:"w-full p-2 border rounded",rows:6})]}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"更新"})]})]}):(0,s.jsx)("div",{children:"データが見つかりません"})}},1804:(e,t,a)=>{Promise.resolve().then(a.bind(a,40))},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(1804)),_N_E=e.O()}]);