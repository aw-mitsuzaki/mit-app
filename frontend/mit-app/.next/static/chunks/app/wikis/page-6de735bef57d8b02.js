(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{1922:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var i=t(5155),l=t(5695),a=t(2115);let c=e=>{let{wiki:s}=e,t=(0,l.useRouter)(),c=(0,a.useMemo)(()=>new Date(s.created_at).toLocaleString(),[s.created_at]);return(0,i.jsxs)("div",{className:"bg-white border p-4 rounded shadow-md w-full",children:[(0,i.jsx)("h2",{className:"text-lg font-bold truncate",title:s.title,children:s.title}),(0,i.jsx)("p",{className:"text-gray-700 mt-2 line-clamp-3",title:s.content,children:s.content}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:c}),(0,i.jsxs)("div",{className:"flex justify-end mt-4 space-x-2",children:[(0,i.jsx)("button",{onClick:()=>{t.push("/wikis/".concat(s.id))},className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300",children:"表示"}),(0,i.jsx)("button",{onClick:()=>{t.push("/wikis/edit/".concat(s.id))},className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300",children:"更新"})]})]})}},6876:(e,s,t)=>{Promise.resolve().then(t.bind(t,8486))},8486:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var i=t(5155),l=t(2115),a=t(6874),c=t.n(a),n=t(1922);let r=()=>{let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(!0),[r,d]=(0,l.useState)({});return((0,l.useEffect)(()=>{let e=async(e,s,t)=>{try{let i=await fetch(e);if(!i.ok)throw Error("".concat(t,"の取得に失敗しました。"));let l=await i.json();s(l)}catch(e){console.error("Error fetching ".concat(t,":"),e),d(s=>({...s,[t]:e.message}))}};(async()=>{await e("/api/wikis",s,"wikis"),a(!1)})()},[]),t)?(0,i.jsx)("div",{children:"読み込み中..."}):(0,i.jsxs)("div",{className:"p-3",children:[(0,i.jsxs)("header",{className:"flex justify-between items-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"Wiki管理"}),(0,i.jsx)("div",{className:"flex space-x-4",children:(0,i.jsx)(c(),{href:"/wikis/new",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-blue-600 active:scale-95 transition-transform",children:"Wiki登録"})})]}),(0,i.jsxs)("section",{className:"my-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"wiki一覧"}),r.wikis?(0,i.jsx)("p",{className:"text-red-500",children:r.wikis}):e.length>0?(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,i.jsx)(n.A,{wiki:e},e.id))}):(0,i.jsx)("p",{className:"text-gray-500",children:"登録されたWikiがありません。"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[244,441,684,358],()=>s(6876)),_N_E=e.O()}]);