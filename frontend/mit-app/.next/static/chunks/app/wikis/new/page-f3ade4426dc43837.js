(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},5737:(e,t,r)=>{Promise.resolve().then(r.bind(r,9983))},9983:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(5155),s=r(2115),l=r(5695);let i=()=>{let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),o=(0,l.useRouter)(),n=async t=>{t.preventDefault();let a=e.trim(),s=r.trim();if(!a||!s){alert("タイトルと内容を入力してください。");return}try{let e=await fetch("/api/wikis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a,content:s})});if(!e.ok){let t=await e.json();throw Error(t.message||"wikiの登録に失敗しました。")}alert("wikiが正常に追加されました！"),o.push("/")}catch(e){console.error("Error adding wiki entry:",e),alert("エラーが発生しました: ".concat(e.message||"不明なエラー"))}};return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"新しいwikiを作成"}),(0,a.jsxs)("form",{onSubmit:n,className:"flex flex-col gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"タイトル","aria-label":"タイトル",value:e,onChange:e=>t(e.target.value),className:"p-2 border rounded",required:!0}),(0,a.jsx)("textarea",{placeholder:"内容","aria-label":"内容",value:r,onChange:e=>i(e.target.value),className:"p-2 border rounded",rows:5,required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors",children:"登録"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(5737)),_N_E=e.O()}]);