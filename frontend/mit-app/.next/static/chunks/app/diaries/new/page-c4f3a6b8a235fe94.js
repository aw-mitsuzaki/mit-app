(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},92877:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(95155),s=r(12115),l=r(35695);let o=()=>{let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),n=(0,l.useRouter)(),u=async t=>{t.preventDefault();let a=e.trim(),s=r.trim();if(!a||!s){alert("タイトルと内容を入力してください。");return}try{let e=await fetch("/api/diaries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a,content:s})});if(!e.ok){let t=await e.json();throw Error(t.message||"日報の登録に失敗しました。")}alert("日報が正常に追加されました！"),n.push("/")}catch(e){console.error("Error adding diary entry:",e),alert("エラーが発生しました: ".concat(e.message||"不明なエラー"))}};return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"新しい日報を作成"}),(0,a.jsxs)("form",{onSubmit:u,className:"flex flex-col gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"タイトル","aria-label":"タイトル",value:e,onChange:e=>t(e.target.value),className:"p-2 border rounded",required:!0}),(0,a.jsx)("textarea",{placeholder:"内容","aria-label":"内容",value:r,onChange:e=>o(e.target.value),className:"p-2 border rounded",rows:5,required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors",children:"登録"})]})]})}},96187:(e,t,r)=>{Promise.resolve().then(r.bind(r,92877))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(96187)),_N_E=e.O()}]);