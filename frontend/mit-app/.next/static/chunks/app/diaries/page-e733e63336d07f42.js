(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{8047:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155),i=t(5695),r=t(2115);let l=e=>{let{diary:s}=e,t=(0,i.useRouter)(),l=(0,r.useMemo)(()=>new Date(s.created_at).toLocaleString(),[s.created_at]);return(0,a.jsxs)("div",{className:"bg-white border p-4 rounded shadow-md w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold truncate",title:s.title,children:s.title}),(0,a.jsx)("p",{className:"text-gray-700 mt-2 line-clamp-3",title:s.content,children:s.content}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:l}),(0,a.jsxs)("div",{className:"flex justify-end mt-4 space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{t.push("/diaries/".concat(s.id))},className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300",children:"表示"}),(0,a.jsx)("button",{onClick:()=>{t.push("/diaries/edit/".concat(s.id))},className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300",children:"更新"})]})]})}},8048:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5155),i=t(2115),r=t(6874),l=t.n(r),c=t(8047);let n=()=>{let[e,s]=(0,i.useState)([]),[t,r]=(0,i.useState)(!0),[n,d]=(0,i.useState)({});return((0,i.useEffect)(()=>{let e=async(e,s,t)=>{try{let a=await fetch(e);if(!a.ok)throw Error("".concat(t,"の取得に失敗しました。"));let i=await a.json();s(i)}catch(e){console.error("Error fetching ".concat(t,":"),e),d(s=>({...s,[t]:e.message}))}};(async()=>{await e("/api/diaries",s,"diaries"),r(!1)})()},[]),t)?(0,a.jsx)("div",{children:"読み込み中..."}):(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"日報管理"}),(0,a.jsx)("div",{className:"flex space-x-4",children:(0,a.jsx)(l(),{href:"/wikis/new",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-blue-600 active:scale-95 transition-transform",children:"日報登録"})})]}),(0,a.jsxs)("section",{className:"my-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"日報一覧"}),n.diaries?(0,a.jsx)("p",{className:"text-red-500",children:n.diaries}):e.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,a.jsx)(c.A,{diary:e},e.id))}):(0,a.jsx)("p",{className:"text-gray-500",children:"登録された日報がありません。"})]})]})}},8302:(e,s,t)=>{Promise.resolve().then(t.bind(t,8048))}},e=>{var s=s=>e(e.s=s);e.O(0,[244,441,684,358],()=>s(8302)),_N_E=e.O()}]);